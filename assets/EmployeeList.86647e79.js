import{b as u,r as O,a as I,j as h,L as D}from"./index.9b17b1d7.js";import{g as L}from"./api.d4f36c0b.js";const y=e=>!Number.isNaN(Date.parse(e)),k=({entries:e,sortBy:t,sortDirection:n})=>!n||!t?e:[...e].sort((r,a)=>{const s=y(r[t])?new Date(r[t]):r[t],o=y(a[t])?new Date(a[t]):a[t];return n==="asc"?s>o?1:-1:s<o?1:-1}),j=({entries:e,filter:t})=>t?e.filter(n=>Object.values(n).find(r=>r.toLowerCase().includes(t.toLowerCase()))):e;var c=(e=>(e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_TOTAL_PAGES="SET_TOTAL_PAGES",e.SET_PAGE_SIZE="SET_PAGE_SIZE",e.SET_FILTER="SET_FILTER",e.SET_SORTBY="SET_SORTBY",e.SET_SORTDIRECTION="SET_SORTDIRECTION",e))(c||{});function z(e,t){switch(t.type){case c.SET_CURRENT_PAGE:return{...e,currentPage:t.payload};case c.SET_TOTAL_PAGES:return{...e,totalPages:t.payload};case c.SET_PAGE_SIZE:{const n=Math.ceil(e.filterResults.length/t.payload);return{...e,pageSize:t.payload,totalPages:n}}case c.SET_FILTER:{const n=j({entries:e.entries,filter:t.payload}),r=Math.ceil(n.length/e.pageSize);return{...e,filter:t.payload,currentPage:1,totalPages:r,filterResults:n}}case c.SET_SORTBY:return{...e,sortBy:t.payload};case c.SET_SORTDIRECTION:return{...e,sortDirection:t.payload};default:return e}}var b={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=O,A=Symbol.for("react.element"),G=Symbol.for("react.fragment"),F=Object.prototype.hasOwnProperty,U=$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)F.call(t,r)&&!V.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:A,type:e,key:s,ref:o,props:a,_owner:U.current}}_.Fragment=G;_.jsx=x;_.jsxs=x;b.exports=_;const i=b.exports.jsx,g=b.exports.jsxs,P=u.exports.createContext(void 0);function B({initialState:e,children:t}){const[n,r]=u.exports.useReducer(z,e),a=u.exports.useMemo(()=>({state:n,dispatch:r}),[n,r]);return i(P.Provider,{value:a,children:t})}var S,M=new Uint8Array(16);function Y(){if(!S&&(S=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!S))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S(M)}var Z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function H(e){return typeof e=="string"&&Z.test(e)}var l=[];for(var v=0;v<256;++v)l.push((v+256).toString(16).substr(1));function q(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!H(n))throw TypeError("Stringified UUID is invalid");return n}function m(e,t,n){e=e||{};var r=e.random||(e.rng||Y)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return q(r)}const C={pageSizeOptions:[10,25,50,100]};function f(){const e=u.exports.useContext(P);if(e===void 0)throw new Error("useDataTableContext must be used within a DataTableContextProvider");return e}const J=e=>({type:c.SET_CURRENT_PAGE,payload:e}),W=e=>({type:c.SET_PAGE_SIZE,payload:e}),X=e=>({type:c.SET_FILTER,payload:e}),R=e=>({type:c.SET_SORTBY,payload:e}),T=e=>({type:c.SET_SORTDIRECTION,payload:e});function K(){const{state:e,dispatch:t}=f(),{pageSize:n}=e,r=a=>{t(W(parseInt(a.target.value,10)))};return console.info("pageSize rendered"),g("label",{htmlFor:"page-size",children:["show"," ",i("select",{className:"form-select d-inline-block w-auto","aria-label":"show entries",name:"page-size",onChange:r,value:n,children:C.pageSizeOptions.map(a=>i("option",{value:a,children:a},`option-${a}`))})," ","entries"]})}function Q(){const{state:e,dispatch:t}=f(),{filter:n}=e,r=a=>{t(X(a.target.value))};return console.info("filter rendered"),g("label",{htmlFor:"search",id:"dataTable-search",children:["Search:"," ",i("input",{name:"search",className:"form-control d-inline-block w-auto","aria-label":"search","aria-describedby":"dataTable-search",type:"search",onChange:r,value:n})]})}function ee({label:e}){const{state:t,dispatch:n}=f(),{sortBy:r,sortDirection:a}=t,s=()=>{if(r===e.data)switch(a){case"asc":n(T("desc"));break;case"desc":n(T(void 0)),n(R(void 0));break;default:n(T("asc"))}else n(R(e.data)),n(T("asc"))},o=()=>{if(e.data!==r)return"sorting";if(a==="asc")return"sorting sorting_asc";if(a==="desc")return"sorting sorting_desc"};return console.info("column rendered"),i("th",{onClick:()=>s(),className:o(),children:e.title})}function te(){const{state:e}=f(),{labels:t}=e;return console.info("head rendered"),i("thead",{children:i("tr",{children:t.map(n=>i(ee,{label:n},`label-${m()}`))})})}function ne({entry:e}){const{state:t}=f(),{labels:n,sortBy:r}=t;return i("tr",{children:n.map(a=>i("td",{className:a.data===r?"current-label":"",children:e[a.data]},`${a.data}-${m()}`))})}function re(){const{state:e}=f(),{currentPage:t,pageSize:n,filterResults:r,sortBy:a,sortDirection:s}=e,d=u.exports.useMemo(()=>k({entries:r,sortBy:a,sortDirection:s}),[r,a,s]).slice((t-1)*n,t*n);return console.info("body rendered"),i("tbody",{className:"table-group-divider",children:d.map(p=>i(ne,{entry:p},`row-${m()}`))})}function ae({tableId:e}){return console.info("table rendered"),i("div",{className:"table-responsive",children:g("table",{className:"dataTable table table-striped",id:e,children:[i(te,{}),i(re,{})]})})}function se(){const{state:{entries:e,currentPage:t,totalPages:n,pageSize:r,filterResults:a}}=f(),s=e.length,o=a.length,d=o>0?(t-1)*r+1:0,p=r>o||t===n?o:t*r,E=o!==s;return console.info("info rendered"),g("p",{className:"dataTable_info",role:"status","aria-live":"polite",children:["Showing ",d," to ",p," of ",o," entries ",E&&g("span",{children:["(filtered from ",s," total entries)"]})]})}function oe({tableId:e,pageIndex:t,text:n}){const{state:r,dispatch:a}=f(),{currentPage:s,totalPages:o}=r,d=s===1&&t===0||s===o&&t===o+1||o<2,p=s===t,E=()=>{switch(t){case 0:return s-1;case o+1:return s+1;default:return t}},w=()=>{const N=E();a(J(N))};return console.info("page-item rendered"),i("li",{className:"page-item",children:i("button",{type:"button",className:`page-link ${p&&"active"} ${d&&"disabled"}`,"aria-controls":e,onClick:()=>w(),disabled:d,children:n})})}function ie({tableId:e}){const{state:t}=f(),{totalPages:n}=t,r=u.exports.useCallback(()=>{const a=[];for(let s=0;s<=n+1;s+=1){let o=s.toString();s===0&&(o="Previous"),s===n+1&&(o="Next"),a.push(i(oe,{tableId:e,pageIndex:s,text:o},`page-${m()}`))}return a},[n,e]);return console.info("paginate rendered"),i("nav",{"aria-label":"data-table page navigation",children:i("ul",{className:"pagination",children:r()})})}function le({data:e}){const t=m(),{labels:n,entries:r,sortBy:a,sortDirection:s}=e,o=C.pageSizeOptions[0],d=Math.ceil(r.length/o);return i(B,{initialState:{labels:n,entries:r,currentPage:1,pageSize:o,totalPages:d,filterResults:r,sortBy:a,sortDirection:s},children:g("div",{className:"dataTable_wrapper d-grid",children:[g("div",{className:"dataTable_header mt-3 mb-2 d-flex justify-content-between align-items-center",children:[i(K,{}),i(Q,{})]}),i(ae,{tableId:t}),g("div",{className:"dataTable_footer mt-3 mb-2 d-flex justify-content-between",children:[i(se,{}),i(ie,{tableId:t})]})]})})}function ce(e,t=[]){const[n,r]=u.exports.useState(!0),[a,s]=u.exports.useState(),[o,d]=u.exports.useState(),p=u.exports.useCallback(()=>{r(!0),s(void 0),d(void 0),e().then(d).catch(s).finally(()=>r(!1))},t);return u.exports.useEffect(()=>{p()},[p]),{loading:n,error:a,value:o}}function pe(){const{loading:e,error:t,value:n}=ce(L);return I("div",{className:"container",children:[h("div",{className:"text-center",children:h("h1",{children:"Current Employees"})}),e&&h("div",{children:"Loading..."}),n&&h(le,{data:n}),t&&h("div",{children:t}),h("p",{className:"text-center",children:h(D,{to:"/",children:"Home"})})]})}export{pe as default};
